# Linguistic features

- `stanza_process.py` produces parsed CONLL files from raw texts;
- `collect_ling_stats.py` reads a CONLL file and dumps frequencies for morphological and syntax properties of the target words into JSON files;
- `compare_ling.py` produces TSV files with binary and graded change predictions from two JSON files;
- `merge.py` reads two JSON files (e.g. with morphological and syntax properties) and produces averaged predictions.

Use `../eval.py` to evaluate the resulting TSVs with regards to gold scores (in the `test_data_truth` subdirectory).

# Results

## Subtask 1
These are with positive class coefficient 0.43 (top 43% of most changed words are assigned the 1 label):

|              | English | German | Latin | Swedish |Mean | Italian |
|--------------|---------|--------|-------|---------|-----|---------|
| Morphology   |   0.595 |  0.521 | 0.525 |   0.581 |0.555| 0.722   |
| Syntax       |   0.541 |  0.646 | 0.575 |   0.645 |0.602| 0.611   |
| Average      |   0.568 |  0.583 | 0.475 |   0.710 |0.584| 0.722   |
|--------------|---------|--------|-------|---------|-----|---------|
| JSD (tiny improvement only for task1)                             |
| Morphology   |   0.486 |  0.479 | 0.575 |   0.645 |     | 0.722   |
| Syntax       |   0.486 |  0.604 | 0.475 |   0.645 |     | 0.722   |
| Average      |   0.514 |  0.604 | 0.500 |   0.742 |     | 0.778   |
|--------------|---------|--------|-------|---------|-----|---------|
| FILTERING: 5% threshold  (almost no change)                       |
| Morphology   |   0.595 |  0.521 | 0.525 |   0.581 |0.555| 0.722   |
| Syntax       |   0.541 |  0.646 | 0.525 |   0.710 |0.606| 0.611   |
| Average      |   0.568 |  0.583 | 0.450 |   0.710 |0.578| 0.667   |
|--------------|---------|--------|-------|---------|-----|---------|
| SYNTAX feature filtering (nothing for this task)                  |
| none         |   0.541 |  0.646 | 0.575 |   0.645 |     | 0.611   |
| group        |   0.541 |  0.646 | 0.525 |   0.645 |     | 0.722   |
| partial      |   0.541 |  0.646 | 0.575 |   0.645 |     | 0.611   |
| delete       |   0.595 |  0.521 | 0.106 |   0.581 |     | 0.500   |
|--------------|---------|--------|-------|---------|-----|---------|
| SYNTAX feature filtering + 5% thr                                 |
| none         |   0.541 |  0.646 | 0.525 |   0.710 |     | 0.611   |
| group        |   0.541 |  0.646 | 0.475 |   0.774 |     | 0.611   |
| partial      |   0.541 |  0.646 | 0.575 |   0.710 |     | 0.611   |
| delete       |   0.595 |  0.562 | 0.106 |   0.581 |     | 0.500   |
|--------------|---------|--------|-------|---------|-----|---------|
| Morphological feature separation                                  |
| Morphology   |   0.595 |  0.521 | 0.575 |   0.645 |0.584| 0.722   |
| Average      |   0.568 |  0.583 | 0.525 |   0.710 |0.596| 0.722   |
|--------------|---------|--------|-------|---------|-----|---------|
| + 5% filtering                                                    |
| Morphology   |   0.595 |  0.521 | 0.625 |   0.645 |0.597| 0.722   |
| Average      |   0.568 |  0.583 | 0.550 |   0.774 |0.619| 0.722   |
|--------------|---------|--------|-------|---------|-----|---------|
| + threshold detection                                             |
| Morphology   |   0.622 |  0.479 | 0.625 |   0.548 |0.569| 0.722   |
| Syntax       |   0.514 |  0.625 | 0.500 |   0.677 |0.579| 0.611   |
| Average      |   0.595 |  0.542 | 0.525 |   0.677 |0.585| 0.778   |
|--------------|---------|--------|-------|---------|-----|---------|
| Morphological feature separate distance                           |
| cos max      |   0.595 |  0.479 | 0.575 |   0.581 |0.557| 0.500   |
| cos max + 5% |   0.595 |  0.479 | 0.575 |   0.581 |0.557| 0.500   |
| cos avg      |   0.649 |  0.562 | 0.525 |   0.645 |0.595| 0.500   |
| cos avg + 5% |   0.649 |  0.562 | 0.525 |   0.645 |0.595| 0.500   |
| jsd max      |   0.486 |  0.521 | 0.625 |   0.581 |0.553| 0.611   |
| jsd max + 5% |   0.486 |  0.521 | 0.575 |   0.581 |0.541| 0.611   |
| jsd avg      |   0.595 |  0.562 | 0.575 |   0.645 |0.594| 0.500   |
| jsd avg + 5% |   0.595 |  0.521 | 0.575 |   0.581 |0.568| 0.500   |
|--------------|---------|--------|-------|---------|-----|---------|
| Morphological feature separate distance + automatic changepoint   |
| cos max      |   0.622 |  0.583 | 0.625 |   0.581 |0.603| 0.500   |
| cos max + 5% |   0.622 |  0.583 | 0.625 |   0.581 |0.603| 0.500   |
| cos avg      |   0.649 |  0.583 | 0.575 |   0.645 |0.613| 0.556   | 
| jsd max      |   0.622 |  0.583 | 0.625 |   0.613 |0.611| 0.556   |
| jsd max + 5% |   0.595 |  0.583 | 0.625 |   0.645 |0.612| 0.556   | 
| jsd avg      |   0.622 |  0.583 | 0.625 |   0.581 |0.603| 0.444   |
| jsd avg + 5% |   0.595 |  0.583 | 0.550 |   0.613 |0.585| 0.500   |
|--------------|---------|--------|-------|---------|-----|---------|
| cos avg + 5% |   0.649 |  0.583 | 0.550 |   0.677 |0.615| 0.556   |
| Average      |   0.622 |  0.625 | 0.400 |   0.710 |0.589| 0.722   |
|--------------|---------|--------|-------|---------|-----|---------|
| SE Count Bas |   0.595 |  0.688 | 0.525 |   0.645 |0.613| 0.611*  |
| SE 1st       |   0.622 |  0.750 | 0.700 |   0.677 |0.687| 0.944   |
|--------------|---------|--------|-------|---------|-----|---------|
|              | English | German | Latin | Swedish |Mean | Italian |

> \* The Italian baseline relies on collocations (Basile et al., 2019): for each target word, two vector representations are built, consisting of the Bag-of-Collocations related to the two different time periods (T0 and T1). Then, the cosine similarity between the two BoCs is computed.

## Subtask 2
|              | English | German | Latin | Swedish |  Mean |Russian1 | Russian2 | Russian3 |
|--------------|---------|--------|-------|---------|-------|---------|----------|----------|
| Morphology   |   0.234 |  0.043 | 0.241 |   0.207 | 0.181 | 0.137   | 0.210    | 0.327    |
| Syntax       |   0.319 |  0.163 | 0.328 |  -0.017 | 0.198 | 0.060   | 0.101    | 0.269    |
| average      |   0.293 |  0.147 | 0.304 |   0.088 | 0.208 | 0.101   | 0.191    | 0.294    |
|--------------|---------|--------|-------|---------|-------|---------|----------|----------|
| jsd (slightly worse)                                      |
| morphology   |   0.149 |  0.054 | 0.240 |   0.251 | 0.173 |
| syntax       |   0.232 |  0.127 | 0.343 |  -0.051 | 0.163 |
| average      |   0.134 |  0.129 | 0.269 |   0.067 | 0.150 |
|--------------|---------|--------|-------|---------|-------|---------|----------|----------|
| filtering: 5% threshold                                   |
| morphology   |   0.211 |  0.080 | 0.285 |   0.191 | 0.192 | 0.127   | 0.185    | 0.264    |
| syntax       |   0.331 |  0.146 | 0.265 |   0.184 | 0.231 | 0.056   | 0.111    | 0.279    |
| average      |   0.315 |  0.171 | 0.345 |   0.263 | 0.273 | 0.094   | 0.183    | 0.278    |
|--------------|---------|--------|-------|---------|-------|---------|----------|----------|
| syntax feature filtering (en la improve ge sv disaster)   |
| none         |   0.319 |  0.163 | 0.328 |  -0.017 | 0.168 |
| group        |   0.319 |  0.107 | 0.170 |  -0.070 | 0.131 |
| partial      |   0.328 |  0.093 | 0.382 |  -0.037 | 0.191 |
| delete       |   0.150 | -0.068 | 0.106 |  -0.034 | 0.038 |
|--------------|---------|--------|-------|---------|-------|---------|----------|----------|
| syntax feature filtering  + 5% thr                        |
| none         |   0.331 |  0.146 | 0.265 |   0.184 | 0.231 |
| group        |   0.331 |  0.100 | 0.096 |   0.179 | 0.176 |
| partial      |   0.343 |  0.118 | 0.321 |   0.149 | 0.233 |
| delete       |   0.157 |  0.026 | 0.104 |  -0.026 | 0.065 |
|--------------|---------|--------|-------|---------|-------|---------|----------|----------|
| reverse syntax feature filtering   
| none         | -0.063  |  0.233 | 0.163 |  -0.089 | 0.061 |
| group        | -0.033  |  0.221 | 0.174 |  -0.236 | 0.032 |
| partial      | -0.086  |  0.218 | 0.195 |  -0.116 | 0.053 |
| delete       | -0.113  |  0.202 | 0.090 |  -0.055 | 0.031 |
|--------------|---------|--------|-------|---------|-------|---------|----------|----------|
| reverse syntax feature filtering  + 5% thr                                                
| group        | -0.112  |  0.211 | 0.170 |  -0.156 | 0.028 |
| partial      | -0.099  |  0.238 | 0.179 |  -0.074 | 0.061 |
| delete       | -0.131  |  0.177 | 0.051 |  -0.051 | 0.011 |
|--------------|---------|--------|-------|---------|-------|---------|----------|----------|
| Morphological feature separation                          |
| Morphology   |   0.224 |  0.098 | 0.399 |   0.232 | 0.238 | 0.128   | 0.208    | 0.308    |
| Average      |   0.292 |  0.132 | 0.380 |   0.038 | 0.211 | 0.052   | 0.135    | 0.273    |
|--------------|---------|--------|-------|---------|-------|---------|----------|----------|
| + 5% filtering                                            |
| Morphology   |   0.201 |  0.157 | 0.445 |  0.344  | 0.287 | -0.004  | 0.180    | 0.217    |
| Average      |   0.312 |  0.195 | 0.374 |  0.286  | 0.292 | 0.039   | 0.136    | 0.263    |
|--------------|---------|--------|-------|---------|-------|---------|----------|----------|
| Morphological feature separate distance                                                   |
| cos max      |   0.244 |  0.074 | 0.520 |  0.300  | 0.284 | 0.030   | 0.238    | 0.288    |
| cos max + 5% |   0.218 |  0.074 | 0.519 |  0.303  | 0.278 | 0.028   | 0.241    | 0.293    |
| cos avg      |   0.229 |  0.134 | 0.534 |  0.344  | 0.310 | 0.038   | 0.191    | 0.328    |
| jsd max      |   0.178 |  0.072 | 0.561 |  0.355  | 0.291 | 0.044   | 0.199    | 0.300    |
| jsd max + 5% |   0.127 |  0.084 | 0.560 |  0.429  | 0.300 | 0.031   | 0.208    | 0.318    |
| jsd avg      |   0.138 |  0.024 | 0.579 |  0.389  | 0.282 | 0.100   | 0.084    | 0.372    |
| jsd avg + 5% |   0.085 |  0.049 | 0.552 |  0.398  | 0.271 | 0.100   | 0.123    | 0.368    |
|--------------|---------|--------|-------|---------|-------|---------|----------|----------|
| cos avg + 5% |   0.204 |  0.134 | 0.538 |  0.371  | 0.312 | 0.035   | 0.186    | 0.329    |
| Average      |   0.295 |  0.169 | 0.490 |  0.317  | 0.317 
|--------------|---------|--------|-------|---------|-------|---------|----------|----------|
|    Count Bas |   0.022 |  0.216 | 0.359 |  -0.022 | 0.144 | 0.314*  | 0.302    | 0.381    |
|    1st       |   0.422 |  0.725 | 0.412 |   0.547 | 0.527 | 0.798   | 0.803    | 0.822    |
|--------------|---------|--------|-------|---------|-------|---------|----------|----------|
|              | English | German | Latin | Swedish |  Mean |Russian1 | Russian2 | Russian3 |

> \* The Russian baseline relies on CBOW word embeddings trained on respective corpora and their local neighborhood similarity [Hamilton et al 2016].